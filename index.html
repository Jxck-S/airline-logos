<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Airline Logos</title>
<style>
  body {
    font-family: Arial, Helvetica, sans-serif;
    text-align: center;
  }
  .logo-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    margin-top: 20px;
  }
  .logo-item {
    text-align: center;
    width: 150px;
    margin: 0; /* Adjust as needed */
    padding: 0; /* Adjust as needed */
  }
  .logo-image {
    max-width: 100%;
    width: 100%;
    height: auto;
    border: 1px solid #ddd;
    background-color: white;
    border-radius: 4px;
    box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
  }
  .logo-caption {
    margin-top: 5px;
    font-size: 0.8em;
    color: black;
  }
  .airline-group {
  border: 1px solid grey;
  padding: 10px; /* Add padding inside the border */
  box-sizing: border-box; /* Include padding and border in the element's width */
  display: flex; /* Use flex layout */
  flex-direction: column; /* Arrange items in a column */
  align-items: center; /* Center items vertically */
  gap: 10px; /* Space between items */
  margin-bottom: 20px; /* Space between airline groups */
  background-color: grey;
  border-radius: 10px;
}
</style>
</head>
<body>
<h4>Airline Logos</h4>
<p>Generated by <a href="https://github.com/Jxck-S/airline-logo-scraper">https://github.com/Jxck-S/airline-logo-scraper</a>
Images stored at <a href="https://github.com/Jxck-S/airline-logos">https://github.com/Jxck-S/airline-logos</a>
</p>
<div id="logos-container" class="logo-container"></div>

<script>
// Function to fetch and display logos from GitHub repository
function fetchAndDisplayLogos() {
  const baseRepoUrl = 'https://api.github.com/repos/Jxck-S/airline-logos/contents/';
  const folders = ['avcodes_banners', 'flightaware_logos', 'fr24_logos', 'radarbox_banners', 'radarbox_logos'];
  const logosByAirline = {};

  // Fetch logos from each folder
  Promise.all(folders.map(folder =>
    fetch(`${baseRepoUrl}${folder}`)
      .then(response => response.json())
      .then(files => {
        files.forEach(file => {
          if (file.type === 'file') {
            const airlineCode = file.name.split('.')[0]; // Assuming the file name is the airline code
            if (!logosByAirline[airlineCode]) {
              logosByAirline[airlineCode] = [];
            }
            logosByAirline[airlineCode].push({ url: file.download_url, folder });
          }
        });
      })
  )).then(() => {
    const container = document.getElementById('logos-container');
    // Create and append logo items grouped by airline
    Object.keys(logosByAirline).forEach(airlineCode => {
      const airlineDiv = document.createElement('div');
      airlineDiv.classList.add('airline-group');
      airlineDiv.innerHTML = `<h2>${airlineCode}</h2>`;
      logosByAirline[airlineCode].forEach(logo => {
        const logoItem = document.createElement('div');
        logoItem.classList.add('logo-item');

        const img = new Image();
        img.src = logo.url;
        img.alt = airlineCode;
        img.classList.add('logo-image');

        const caption = document.createElement('div');
        caption.textContent = `Source: ${logo.folder}`;
        caption.classList.add('logo-caption');

        logoItem.appendChild(img);
        logoItem.appendChild(caption);
        airlineDiv.appendChild(logoItem);
      });
      container.appendChild(airlineDiv);
    });
  }).catch(error => console.error('Error fetching directories:', error));
}

// Load logos when the window loads
window.onload = fetchAndDisplayLogos;
</script>

</body>
</html>
